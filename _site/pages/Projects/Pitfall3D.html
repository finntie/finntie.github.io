<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#85b5cc">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=dfc69a8a16e5d8316f550722c4923a51520a70ab">
    <script src="/assets/js/main.js"></script> 
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    
    <header class="page-header" role="banner">
      <div class="site-name">
      <a href="/" title="Return to the homepage">Finn Thiesen</a>
      </div>  
          
      <h2 style="color: white;"></h2>
      <a href="/" 
      class="btn " 
      data-icon="🏠" 
      data-hover="Home Page""> </a>
      
      
        
          <a href="/pages/Blogs.html" 
             class="btn " 
             data-icon="✍️" 
             data-hover="Blog Posts">
          </a>        
        
      
        
      
        
          <a href="/pages/Projects.html" 
             class="btn active" 
             data-icon="📋" 
             data-hover="Projects">
          </a>        
        
      
        
      
        
      
        
      
        
      
    </header>
    
   <!-- If I want random circles <div id="decorativeCircles"></div> -->

    <button id="darkmodeButton" class="btn top-right">DarkMode</button>

    <main id="content" class="main-content" role="main">
      <p><img id="BuasLogo" src="/assets/media/LogoBUas_RGB.png" class="buas-logo" alt="BuasLogo" /></p>

<h3 id="exercise">Exercise</h3>
<p>This 8 weeks on school, we had to learn several things. <br />
We were challenged to create a 3D game on the Rasberry Pi with using openGL. <br />
During this time, I had worked with neither of those. So, starting would be pretty difficult. <br /></p>

<p>Before the start of the block, I had already done some research on openGL using the <a href="https://learnopengl.com">learnopengl</a> website. <br />
But an important note is that we were given 2 possible templates to start with, already including some code for openGL. <br />
There were some problems with the templates, so what I did was start from scratch and implement parts of both templates.</p>

<h3 id="what-i-did">What I did</h3>
<div style="float: right; justify-content: left; align-items: center; gap: 20px; margin: 0 auto;">
<img src="/assets/media/Pitfall3D/firstTriangle.png" width="250" style="margin: -10px 20px 10px 10;" />
</div>
<p>Starting in the first week, I had to learn openGL now using code. 
On the right you see my first triangle, which, of course, is shown on the Rasberry Pi</p>

<p>With a nice triangle to start with, I was able to generate nice boxes (just following the great leanopengl tutorial). <br />
I was able to render 10.000 boxes on 18 fps, which is pretty nice knowing it has no optimizations and run on the Pi. <br /></p>

<p>The next step was to load .obj objects from file. I struggled a bit with this, but using help from peers I succeeded in this.
Appearantly the issue was that I did not get the uniform location from my shader. Thanks Sjoerd. <br /></p>

<p>With objects being able to load, I wanted to work on physics. <br />
Luckily we did not have to write a full physics engine for this, but we needed to use <a href="https://github.com/bulletphysics/bullet3">Bullet</a>. <br />
It is a very good physics engine, but was a bit difficult to start using.</p>

<div style="float: right; justify-content: left; align-items: center; gap: 20px; margin: 0 auto;">
<img src="/assets/media/Pitfall3D/DebugDrawerWorking.gif" width="250" style="margin: -10px 20px 10px 10;" />
</div>
<p>After some time I was able with input to get some interactions working: <br /></p>

<p>Now it was time to generate an infinite path where our player would be running on. <br />
I generated the chunks in front of the player in pretty big batches, that is why you will be seeing some lag-spikes.<br />
But the player runs allong the path forwards, and it is starting to look like a real game.</p>
<div style="float: right; justify-content: left; align-items: center; gap: 20px; margin: 0 auto;">
<img src="/assets/media/Pitfall3D/ChunkGenerationAndLeftRight.gif" width="250" style="margin: -10px 20px 10px 10;" />
</div>

<p>The end was not that far away, yet I had still many things left to do. <br />
Such as:</p>
<ul>
  <li>creating better models for my game.</li>
  <li>Making collectables and being able to pick them up.</li>
  <li>Have chunks generate smoother.</li>
  <li>Make working animations.</li>
  <li>Adding a way to finish the game.</li>
  <li>Have game UI to navigate through the menus.</li>
</ul>

<p>Creating all models using blender was quite a task, it took away a lot of time which I may could have spent better. 
But, my game is more original which I like. <br /></p>

<p>The collectables were not too hard, mainly getting a different type of collision to work was the issue.</p>

<p>I generated the chunks smoother by making the sections way bigger (Meaning I had to spawn less). <br />
And I also only generate 1 part instead of a whole batch of different platforms. <br />
To account for the fact that you can see the objects being loaded in, I created a shader that curves the far distance. <br />
This made it seem like you were running on a mountain or a very small planet.</p>

<p>The animations were quite a big problem. <br />
Because, you can not just load in the animation within the obj and it works. <br />
I had to create fuctionality for reading skeletal animation, I combined <a href="https://www.youtube.com/watch?v=f3Cr8Yx3GGA">this video</a>, with <a href="https://learnopengl.com/Guest-Articles/2020/Skeletal-Animation">this article</a> from learnopengl. <br />
After implementing all the functions, I had to debug a lot, because it was pretty broken. <br />
It costed me much time to get this resolved. The final fix was assimp being the wrong version, this version added 3 lines to the file which would break the animation, removing these lines fixed the issue. <br /></p>

<p>The final thing to do was having a win condition and adding game UI. <br />
This was pretty straight-forward using ImGui.</p>

<h3 id="conclusion">Conclusion</h3>
<p>Below is a video containing a full gameplay video of my game. <br />
I was pretty happy with the result I got, but I did not include everything I wanted. <br />
For example, I did not include the whole cave section that I also created. <br />
Besides that, I could have included better lighting.</p>

<div style="display: flex; justify-content: left; align-items: center; gap: 20px; margin: 0 auto;">
<video width="100%" style="margin: -10px 20px 10px 0;" controls="">
<source src="/assets/media/Pitfall3D/FullGamePlay.mp4" type="video/mp4" />
</video>
</div>

      <footer class="site-footer">
        <span class="site-footer-credits">Follow me on <a href="https://www.linkedin.com/in/finn-thiesen-a20898317">LinkedIn</a> or <a href="https://x.com/Finntie2">Twitter</a>.</span>
      </footer>
    </main>
  </body>
</html>